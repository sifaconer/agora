
<!DOCTYPE html>
<html>
	<head>
		<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
		<title>libgo: Go Coverage Report</title>
		<style>
			body {
				background: black;
				color: rgb(80, 80, 80);
			}
			body, pre, #legend span {
				font-family: Menlo, monospace;
				font-weight: bold;
			}
			#topbar {
				background: black;
				position: fixed;
				top: 0; left: 0; right: 0;
				height: 42px;
				border-bottom: 1px solid rgb(80, 80, 80);
			}
			#content {
				margin-top: 50px;
			}
			#nav, #legend {
				float: left;
				margin-left: 10px;
			}
			#legend {
				margin-top: 12px;
			}
			#nav {
				margin-top: 10px;
			}
			#legend span {
				margin: 0 5px;
			}
			.cov0 { color: rgb(192, 0, 0) }
.cov1 { color: rgb(128, 128, 128) }
.cov2 { color: rgb(116, 140, 131) }
.cov3 { color: rgb(104, 152, 134) }
.cov4 { color: rgb(92, 164, 137) }
.cov5 { color: rgb(80, 176, 140) }
.cov6 { color: rgb(68, 188, 143) }
.cov7 { color: rgb(56, 200, 146) }
.cov8 { color: rgb(44, 212, 149) }
.cov9 { color: rgb(32, 224, 152) }
.cov10 { color: rgb(20, 236, 155) }

		</style>
	</head>
	<body>
		<div id="topbar">
			<div id="nav">
				<select id="files">
				
				<option value="file0">agora/api/proto/libgo/string_format.pb.go (14.5%)</option>
				
				<option value="file1">agora/api/proto/libgo/string_format_grpc.pb.go (0.0%)</option>
				
				<option value="file2">agora/api/services/services.go (75.0%)</option>
				
				<option value="file3">agora/cmd/server.go (0.0%)</option>
				
				<option value="file4">agora/core/format/format.go (100.0%)</option>
				
				<option value="file5">agora/main.go (0.0%)</option>
				
				</select>
			</div>
			<div id="legend">
				<span>not tracked</span>
			
				<span class="cov0">no coverage</span>
				<span class="cov1">low coverage</span>
				<span class="cov2">*</span>
				<span class="cov3">*</span>
				<span class="cov4">*</span>
				<span class="cov5">*</span>
				<span class="cov6">*</span>
				<span class="cov7">*</span>
				<span class="cov8">*</span>
				<span class="cov9">*</span>
				<span class="cov10">high coverage</span>
			
			</div>
		</div>
		<div id="content">
		
		<pre class="file" id="file0" style="display: none">// Code generated by protoc-gen-go. DO NOT EDIT.
// versions:
//         protoc-gen-go v1.28.1
//         protoc        (unknown)
// source: string_format.proto

package libgo

import (
        protoreflect "google.golang.org/protobuf/reflect/protoreflect"
        protoimpl "google.golang.org/protobuf/runtime/protoimpl"
        reflect "reflect"
        sync "sync"
)

const (
        // Verify that this generated code is sufficiently up-to-date.
        _ = protoimpl.EnforceVersion(20 - protoimpl.MinVersion)
        // Verify that runtime/protoimpl is sufficiently up-to-date.
        _ = protoimpl.EnforceVersion(protoimpl.MaxVersion - 20)
)

type DataRequest struct {
        state         protoimpl.MessageState
        sizeCache     protoimpl.SizeCache
        unknownFields protoimpl.UnknownFields

        Value string `protobuf:"bytes,1,opt,name=value,proto3" json:"value,omitempty"`
}

func (x *DataRequest) Reset() <span class="cov0" title="0">{
        *x = DataRequest{}
        if protoimpl.UnsafeEnabled </span><span class="cov0" title="0">{
                mi := &amp;file_string_format_proto_msgTypes[0]
                ms := protoimpl.X.MessageStateOf(protoimpl.Pointer(x))
                ms.StoreMessageInfo(mi)
        }</span>
}

func (x *DataRequest) String() string <span class="cov0" title="0">{
        return protoimpl.X.MessageStringOf(x)
}</span>

func (*DataRequest) ProtoMessage() {<span class="cov0" title="0">}</span>

func (x *DataRequest) ProtoReflect() protoreflect.Message <span class="cov0" title="0">{
        mi := &amp;file_string_format_proto_msgTypes[0]
        if protoimpl.UnsafeEnabled &amp;&amp; x != nil </span><span class="cov0" title="0">{
                ms := protoimpl.X.MessageStateOf(protoimpl.Pointer(x))
                if ms.LoadMessageInfo() == nil </span><span class="cov0" title="0">{
                        ms.StoreMessageInfo(mi)
                }</span>
                <span class="cov0" title="0">return ms</span>
        }
        <span class="cov0" title="0">return mi.MessageOf(x)</span>
}

// Deprecated: Use DataRequest.ProtoReflect.Descriptor instead.
func (*DataRequest) Descriptor() ([]byte, []int) <span class="cov0" title="0">{
        return file_string_format_proto_rawDescGZIP(), []int{0}
}</span>

func (x *DataRequest) GetValue() string <span class="cov0" title="0">{
        if x != nil </span><span class="cov0" title="0">{
                return x.Value
        }</span>
        <span class="cov0" title="0">return ""</span>
}

type DataResponse struct {
        state         protoimpl.MessageState
        sizeCache     protoimpl.SizeCache
        unknownFields protoimpl.UnknownFields

        Value     string `protobuf:"bytes,1,opt,name=value,proto3" json:"value,omitempty"`
        FuncApply string `protobuf:"bytes,2,opt,name=func_apply,json=funcApply,proto3" json:"func_apply,omitempty"`
}

func (x *DataResponse) Reset() <span class="cov0" title="0">{
        *x = DataResponse{}
        if protoimpl.UnsafeEnabled </span><span class="cov0" title="0">{
                mi := &amp;file_string_format_proto_msgTypes[1]
                ms := protoimpl.X.MessageStateOf(protoimpl.Pointer(x))
                ms.StoreMessageInfo(mi)
        }</span>
}

func (x *DataResponse) String() string <span class="cov0" title="0">{
        return protoimpl.X.MessageStringOf(x)
}</span>

func (*DataResponse) ProtoMessage() {<span class="cov0" title="0">}</span>

func (x *DataResponse) ProtoReflect() protoreflect.Message <span class="cov0" title="0">{
        mi := &amp;file_string_format_proto_msgTypes[1]
        if protoimpl.UnsafeEnabled &amp;&amp; x != nil </span><span class="cov0" title="0">{
                ms := protoimpl.X.MessageStateOf(protoimpl.Pointer(x))
                if ms.LoadMessageInfo() == nil </span><span class="cov0" title="0">{
                        ms.StoreMessageInfo(mi)
                }</span>
                <span class="cov0" title="0">return ms</span>
        }
        <span class="cov0" title="0">return mi.MessageOf(x)</span>
}

// Deprecated: Use DataResponse.ProtoReflect.Descriptor instead.
func (*DataResponse) Descriptor() ([]byte, []int) <span class="cov0" title="0">{
        return file_string_format_proto_rawDescGZIP(), []int{1}
}</span>

func (x *DataResponse) GetValue() string <span class="cov0" title="0">{
        if x != nil </span><span class="cov0" title="0">{
                return x.Value
        }</span>
        <span class="cov0" title="0">return ""</span>
}

func (x *DataResponse) GetFuncApply() string <span class="cov0" title="0">{
        if x != nil </span><span class="cov0" title="0">{
                return x.FuncApply
        }</span>
        <span class="cov0" title="0">return ""</span>
}

var File_string_format_proto protoreflect.FileDescriptor

var file_string_format_proto_rawDesc = []byte{
        0x0a, 0x13, 0x73, 0x74, 0x72, 0x69, 0x6e, 0x67, 0x5f, 0x66, 0x6f, 0x72, 0x6d, 0x61, 0x74, 0x2e,
        0x70, 0x72, 0x6f, 0x74, 0x6f, 0x12, 0x05, 0x70, 0x72, 0x6f, 0x74, 0x6f, 0x22, 0x23, 0x0a, 0x0b,
        0x44, 0x61, 0x74, 0x61, 0x52, 0x65, 0x71, 0x75, 0x65, 0x73, 0x74, 0x12, 0x14, 0x0a, 0x05, 0x76,
        0x61, 0x6c, 0x75, 0x65, 0x18, 0x01, 0x20, 0x01, 0x28, 0x09, 0x52, 0x05, 0x76, 0x61, 0x6c, 0x75,
        0x65, 0x22, 0x43, 0x0a, 0x0c, 0x44, 0x61, 0x74, 0x61, 0x52, 0x65, 0x73, 0x70, 0x6f, 0x6e, 0x73,
        0x65, 0x12, 0x14, 0x0a, 0x05, 0x76, 0x61, 0x6c, 0x75, 0x65, 0x18, 0x01, 0x20, 0x01, 0x28, 0x09,
        0x52, 0x05, 0x76, 0x61, 0x6c, 0x75, 0x65, 0x12, 0x1d, 0x0a, 0x0a, 0x66, 0x75, 0x6e, 0x63, 0x5f,
        0x61, 0x70, 0x70, 0x6c, 0x79, 0x18, 0x02, 0x20, 0x01, 0x28, 0x09, 0x52, 0x09, 0x66, 0x75, 0x6e,
        0x63, 0x41, 0x70, 0x70, 0x6c, 0x79, 0x32, 0xad, 0x01, 0x0a, 0x13, 0x53, 0x74, 0x72, 0x69, 0x6e,
        0x67, 0x46, 0x6f, 0x72, 0x6d, 0x61, 0x74, 0x53, 0x65, 0x72, 0x76, 0x69, 0x63, 0x65, 0x12, 0x32,
        0x0a, 0x07, 0x52, 0x65, 0x76, 0x65, 0x72, 0x73, 0x65, 0x12, 0x12, 0x2e, 0x70, 0x72, 0x6f, 0x74,
        0x6f, 0x2e, 0x44, 0x61, 0x74, 0x61, 0x52, 0x65, 0x71, 0x75, 0x65, 0x73, 0x74, 0x1a, 0x13, 0x2e,
        0x70, 0x72, 0x6f, 0x74, 0x6f, 0x2e, 0x44, 0x61, 0x74, 0x61, 0x52, 0x65, 0x73, 0x70, 0x6f, 0x6e,
        0x73, 0x65, 0x12, 0x30, 0x0a, 0x05, 0x55, 0x70, 0x70, 0x65, 0x72, 0x12, 0x12, 0x2e, 0x70, 0x72,
        0x6f, 0x74, 0x6f, 0x2e, 0x44, 0x61, 0x74, 0x61, 0x52, 0x65, 0x71, 0x75, 0x65, 0x73, 0x74, 0x1a,
        0x13, 0x2e, 0x70, 0x72, 0x6f, 0x74, 0x6f, 0x2e, 0x44, 0x61, 0x74, 0x61, 0x52, 0x65, 0x73, 0x70,
        0x6f, 0x6e, 0x73, 0x65, 0x12, 0x30, 0x0a, 0x05, 0x4c, 0x6f, 0x77, 0x65, 0x72, 0x12, 0x12, 0x2e,
        0x70, 0x72, 0x6f, 0x74, 0x6f, 0x2e, 0x44, 0x61, 0x74, 0x61, 0x52, 0x65, 0x71, 0x75, 0x65, 0x73,
        0x74, 0x1a, 0x13, 0x2e, 0x70, 0x72, 0x6f, 0x74, 0x6f, 0x2e, 0x44, 0x61, 0x74, 0x61, 0x52, 0x65,
        0x73, 0x70, 0x6f, 0x6e, 0x73, 0x65, 0x42, 0x5a, 0x0a, 0x09, 0x63, 0x6f, 0x6d, 0x2e, 0x70, 0x72,
        0x6f, 0x74, 0x6f, 0x42, 0x11, 0x53, 0x74, 0x72, 0x69, 0x6e, 0x67, 0x46, 0x6f, 0x72, 0x6d, 0x61,
        0x74, 0x50, 0x72, 0x6f, 0x74, 0x6f, 0x50, 0x01, 0x5a, 0x06, 0x6c, 0x69, 0x62, 0x67, 0x6f, 0x2f,
        0xa2, 0x02, 0x03, 0x50, 0x58, 0x58, 0xaa, 0x02, 0x05, 0x50, 0x72, 0x6f, 0x74, 0x6f, 0xca, 0x02,
        0x05, 0x50, 0x72, 0x6f, 0x74, 0x6f, 0xe2, 0x02, 0x11, 0x50, 0x72, 0x6f, 0x74, 0x6f, 0x5c, 0x47,
        0x50, 0x42, 0x4d, 0x65, 0x74, 0x61, 0x64, 0x61, 0x74, 0x61, 0xea, 0x02, 0x05, 0x50, 0x72, 0x6f,
        0x74, 0x6f, 0x62, 0x06, 0x70, 0x72, 0x6f, 0x74, 0x6f, 0x33,
}

var (
        file_string_format_proto_rawDescOnce sync.Once
        file_string_format_proto_rawDescData = file_string_format_proto_rawDesc
)

func file_string_format_proto_rawDescGZIP() []byte <span class="cov0" title="0">{
        file_string_format_proto_rawDescOnce.Do(func() </span><span class="cov0" title="0">{
                file_string_format_proto_rawDescData = protoimpl.X.CompressGZIP(file_string_format_proto_rawDescData)
        }</span>)
        <span class="cov0" title="0">return file_string_format_proto_rawDescData</span>
}

var file_string_format_proto_msgTypes = make([]protoimpl.MessageInfo, 2)
var file_string_format_proto_goTypes = []interface{}{
        (*DataRequest)(nil),  // 0: proto.DataRequest
        (*DataResponse)(nil), // 1: proto.DataResponse
}
var file_string_format_proto_depIdxs = []int32{
        0, // 0: proto.StringFormatService.Reverse:input_type -&gt; proto.DataRequest
        0, // 1: proto.StringFormatService.Upper:input_type -&gt; proto.DataRequest
        0, // 2: proto.StringFormatService.Lower:input_type -&gt; proto.DataRequest
        1, // 3: proto.StringFormatService.Reverse:output_type -&gt; proto.DataResponse
        1, // 4: proto.StringFormatService.Upper:output_type -&gt; proto.DataResponse
        1, // 5: proto.StringFormatService.Lower:output_type -&gt; proto.DataResponse
        3, // [3:6] is the sub-list for method output_type
        0, // [0:3] is the sub-list for method input_type
        0, // [0:0] is the sub-list for extension type_name
        0, // [0:0] is the sub-list for extension extendee
        0, // [0:0] is the sub-list for field type_name
}

func init() <span class="cov10" title="2">{ file_string_format_proto_init() }</span>
func file_string_format_proto_init() <span class="cov10" title="2">{
        if File_string_format_proto != nil </span><span class="cov0" title="0">{
                return
        }</span>
        <span class="cov10" title="2">if !protoimpl.UnsafeEnabled </span><span class="cov0" title="0">{
                file_string_format_proto_msgTypes[0].Exporter = func(v interface{}, i int) interface{} </span><span class="cov0" title="0">{
                        switch v := v.(*DataRequest); i </span>{
                        case 0:<span class="cov0" title="0">
                                return &amp;v.state</span>
                        case 1:<span class="cov0" title="0">
                                return &amp;v.sizeCache</span>
                        case 2:<span class="cov0" title="0">
                                return &amp;v.unknownFields</span>
                        default:<span class="cov0" title="0">
                                return nil</span>
                        }
                }
                <span class="cov0" title="0">file_string_format_proto_msgTypes[1].Exporter = func(v interface{}, i int) interface{} </span><span class="cov0" title="0">{
                        switch v := v.(*DataResponse); i </span>{
                        case 0:<span class="cov0" title="0">
                                return &amp;v.state</span>
                        case 1:<span class="cov0" title="0">
                                return &amp;v.sizeCache</span>
                        case 2:<span class="cov0" title="0">
                                return &amp;v.unknownFields</span>
                        default:<span class="cov0" title="0">
                                return nil</span>
                        }
                }
        }
        <span class="cov10" title="2">type x struct{}
        out := protoimpl.TypeBuilder{
                File: protoimpl.DescBuilder{
                        GoPackagePath: reflect.TypeOf(x{}).PkgPath(),
                        RawDescriptor: file_string_format_proto_rawDesc,
                        NumEnums:      0,
                        NumMessages:   2,
                        NumExtensions: 0,
                        NumServices:   1,
                },
                GoTypes:           file_string_format_proto_goTypes,
                DependencyIndexes: file_string_format_proto_depIdxs,
                MessageInfos:      file_string_format_proto_msgTypes,
        }.Build()
        File_string_format_proto = out.File
        file_string_format_proto_rawDesc = nil
        file_string_format_proto_goTypes = nil
        file_string_format_proto_depIdxs = nil</span>
}
</pre>
		
		<pre class="file" id="file1" style="display: none">// Code generated by protoc-gen-go-grpc. DO NOT EDIT.
// versions:
// - protoc-gen-go-grpc v1.2.0
// - protoc             (unknown)
// source: string_format.proto

package libgo

import (
        context "context"
        grpc "google.golang.org/grpc"
        codes "google.golang.org/grpc/codes"
        status "google.golang.org/grpc/status"
)

// This is a compile-time assertion to ensure that this generated file
// is compatible with the grpc package it is being compiled against.
// Requires gRPC-Go v1.32.0 or later.
const _ = grpc.SupportPackageIsVersion7

// StringFormatServiceClient is the client API for StringFormatService service.
//
// For semantics around ctx use and closing/ending streaming RPCs, please refer to https://pkg.go.dev/google.golang.org/grpc/?tab=doc#ClientConn.NewStream.
type StringFormatServiceClient interface {
        Reverse(ctx context.Context, in *DataRequest, opts ...grpc.CallOption) (*DataResponse, error)
        Upper(ctx context.Context, in *DataRequest, opts ...grpc.CallOption) (*DataResponse, error)
        Lower(ctx context.Context, in *DataRequest, opts ...grpc.CallOption) (*DataResponse, error)
}

type stringFormatServiceClient struct {
        cc grpc.ClientConnInterface
}

func NewStringFormatServiceClient(cc grpc.ClientConnInterface) StringFormatServiceClient <span class="cov0" title="0">{
        return &amp;stringFormatServiceClient{cc}
}</span>

func (c *stringFormatServiceClient) Reverse(ctx context.Context, in *DataRequest, opts ...grpc.CallOption) (*DataResponse, error) <span class="cov0" title="0">{
        out := new(DataResponse)
        err := c.cc.Invoke(ctx, "/proto.StringFormatService/Reverse", in, out, opts...)
        if err != nil </span><span class="cov0" title="0">{
                return nil, err
        }</span>
        <span class="cov0" title="0">return out, nil</span>
}

func (c *stringFormatServiceClient) Upper(ctx context.Context, in *DataRequest, opts ...grpc.CallOption) (*DataResponse, error) <span class="cov0" title="0">{
        out := new(DataResponse)
        err := c.cc.Invoke(ctx, "/proto.StringFormatService/Upper", in, out, opts...)
        if err != nil </span><span class="cov0" title="0">{
                return nil, err
        }</span>
        <span class="cov0" title="0">return out, nil</span>
}

func (c *stringFormatServiceClient) Lower(ctx context.Context, in *DataRequest, opts ...grpc.CallOption) (*DataResponse, error) <span class="cov0" title="0">{
        out := new(DataResponse)
        err := c.cc.Invoke(ctx, "/proto.StringFormatService/Lower", in, out, opts...)
        if err != nil </span><span class="cov0" title="0">{
                return nil, err
        }</span>
        <span class="cov0" title="0">return out, nil</span>
}

// StringFormatServiceServer is the server API for StringFormatService service.
// All implementations must embed UnimplementedStringFormatServiceServer
// for forward compatibility
type StringFormatServiceServer interface {
        Reverse(context.Context, *DataRequest) (*DataResponse, error)
        Upper(context.Context, *DataRequest) (*DataResponse, error)
        Lower(context.Context, *DataRequest) (*DataResponse, error)
        mustEmbedUnimplementedStringFormatServiceServer()
}

// UnimplementedStringFormatServiceServer must be embedded to have forward compatible implementations.
type UnimplementedStringFormatServiceServer struct {
}

func (UnimplementedStringFormatServiceServer) Reverse(context.Context, *DataRequest) (*DataResponse, error) <span class="cov0" title="0">{
        return nil, status.Errorf(codes.Unimplemented, "method Reverse not implemented")
}</span>
func (UnimplementedStringFormatServiceServer) Upper(context.Context, *DataRequest) (*DataResponse, error) <span class="cov0" title="0">{
        return nil, status.Errorf(codes.Unimplemented, "method Upper not implemented")
}</span>
func (UnimplementedStringFormatServiceServer) Lower(context.Context, *DataRequest) (*DataResponse, error) <span class="cov0" title="0">{
        return nil, status.Errorf(codes.Unimplemented, "method Lower not implemented")
}</span>
func (UnimplementedStringFormatServiceServer) mustEmbedUnimplementedStringFormatServiceServer() {<span class="cov0" title="0">}</span>

// UnsafeStringFormatServiceServer may be embedded to opt out of forward compatibility for this service.
// Use of this interface is not recommended, as added methods to StringFormatServiceServer will
// result in compilation errors.
type UnsafeStringFormatServiceServer interface {
        mustEmbedUnimplementedStringFormatServiceServer()
}

func RegisterStringFormatServiceServer(s grpc.ServiceRegistrar, srv StringFormatServiceServer) <span class="cov0" title="0">{
        s.RegisterService(&amp;StringFormatService_ServiceDesc, srv)
}</span>

func _StringFormatService_Reverse_Handler(srv interface{}, ctx context.Context, dec func(interface{}) error, interceptor grpc.UnaryServerInterceptor) (interface{}, error) <span class="cov0" title="0">{
        in := new(DataRequest)
        if err := dec(in); err != nil </span><span class="cov0" title="0">{
                return nil, err
        }</span>
        <span class="cov0" title="0">if interceptor == nil </span><span class="cov0" title="0">{
                return srv.(StringFormatServiceServer).Reverse(ctx, in)
        }</span>
        <span class="cov0" title="0">info := &amp;grpc.UnaryServerInfo{
                Server:     srv,
                FullMethod: "/proto.StringFormatService/Reverse",
        }
        handler := func(ctx context.Context, req interface{}) (interface{}, error) </span><span class="cov0" title="0">{
                return srv.(StringFormatServiceServer).Reverse(ctx, req.(*DataRequest))
        }</span>
        <span class="cov0" title="0">return interceptor(ctx, in, info, handler)</span>
}

func _StringFormatService_Upper_Handler(srv interface{}, ctx context.Context, dec func(interface{}) error, interceptor grpc.UnaryServerInterceptor) (interface{}, error) <span class="cov0" title="0">{
        in := new(DataRequest)
        if err := dec(in); err != nil </span><span class="cov0" title="0">{
                return nil, err
        }</span>
        <span class="cov0" title="0">if interceptor == nil </span><span class="cov0" title="0">{
                return srv.(StringFormatServiceServer).Upper(ctx, in)
        }</span>
        <span class="cov0" title="0">info := &amp;grpc.UnaryServerInfo{
                Server:     srv,
                FullMethod: "/proto.StringFormatService/Upper",
        }
        handler := func(ctx context.Context, req interface{}) (interface{}, error) </span><span class="cov0" title="0">{
                return srv.(StringFormatServiceServer).Upper(ctx, req.(*DataRequest))
        }</span>
        <span class="cov0" title="0">return interceptor(ctx, in, info, handler)</span>
}

func _StringFormatService_Lower_Handler(srv interface{}, ctx context.Context, dec func(interface{}) error, interceptor grpc.UnaryServerInterceptor) (interface{}, error) <span class="cov0" title="0">{
        in := new(DataRequest)
        if err := dec(in); err != nil </span><span class="cov0" title="0">{
                return nil, err
        }</span>
        <span class="cov0" title="0">if interceptor == nil </span><span class="cov0" title="0">{
                return srv.(StringFormatServiceServer).Lower(ctx, in)
        }</span>
        <span class="cov0" title="0">info := &amp;grpc.UnaryServerInfo{
                Server:     srv,
                FullMethod: "/proto.StringFormatService/Lower",
        }
        handler := func(ctx context.Context, req interface{}) (interface{}, error) </span><span class="cov0" title="0">{
                return srv.(StringFormatServiceServer).Lower(ctx, req.(*DataRequest))
        }</span>
        <span class="cov0" title="0">return interceptor(ctx, in, info, handler)</span>
}

// StringFormatService_ServiceDesc is the grpc.ServiceDesc for StringFormatService service.
// It's only intended for direct use with grpc.RegisterService,
// and not to be introspected or modified (even as a copy)
var StringFormatService_ServiceDesc = grpc.ServiceDesc{
        ServiceName: "proto.StringFormatService",
        HandlerType: (*StringFormatServiceServer)(nil),
        Methods: []grpc.MethodDesc{
                {
                        MethodName: "Reverse",
                        Handler:    _StringFormatService_Reverse_Handler,
                },
                {
                        MethodName: "Upper",
                        Handler:    _StringFormatService_Upper_Handler,
                },
                {
                        MethodName: "Lower",
                        Handler:    _StringFormatService_Lower_Handler,
                },
        },
        Streams:  []grpc.StreamDesc{},
        Metadata: "string_format.proto",
}
</pre>
		
		<pre class="file" id="file2" style="display: none">package services

import (
        pb "agora/api/proto/libgo"
        "agora/core/format"
        "agora/core/models"
        "context"

        "google.golang.org/grpc/codes"
        "google.golang.org/grpc/status"
)

type ServicesFormat struct {
        Usecase *format.Format
        pb.StringFormatServiceServer
}

func (s *ServicesFormat) Reverse(ctx context.Context, in *pb.DataRequest) (*pb.DataResponse, error) <span class="cov8" title="1">{
        resp, err := s.Usecase.Reverse(&amp;models.Transport{
                Value: in.Value,
        })
        if err != nil </span><span class="cov0" title="0">{
                return nil, status.Errorf(codes.InvalidArgument, err.Error())
        }</span>
        <span class="cov8" title="1">return &amp;pb.DataResponse{
                Value:     resp.Value,
                FuncApply: resp.FuncApply,
        }, nil</span>
}

func (s *ServicesFormat) Upper(ctx context.Context, in *pb.DataRequest) (*pb.DataResponse, error) <span class="cov8" title="1">{
        resp, err := s.Usecase.Upper(&amp;models.Transport{
                Value: in.Value,
        })
        if err != nil </span><span class="cov0" title="0">{
                return nil, status.Errorf(codes.InvalidArgument, err.Error())
        }</span>
        <span class="cov8" title="1">return &amp;pb.DataResponse{
                Value:     resp.Value,
                FuncApply: resp.FuncApply,
        }, nil</span>
}

func (s *ServicesFormat) Lower(ctx context.Context, in *pb.DataRequest) (*pb.DataResponse, error) <span class="cov8" title="1">{
        resp, err := s.Usecase.Lower(&amp;models.Transport{
                Value: in.Value,
        })
        if err != nil </span><span class="cov0" title="0">{
                return nil, status.Errorf(codes.InvalidArgument, err.Error())
        }</span>
        <span class="cov8" title="1">return &amp;pb.DataResponse{
                Value:     resp.Value,
                FuncApply: resp.FuncApply,
        }, nil</span>
}
</pre>
		
		<pre class="file" id="file3" style="display: none">package cmd

import (
        pb "agora/api/proto/libgo"
        "agora/api/services"
        "agora/core/format"
        "log"
        "net"

        "google.golang.org/grpc"
        "google.golang.org/grpc/reflection"
)

type Server struct{}

func NewServer() *Server <span class="cov0" title="0">{
        return &amp;Server{}
}</span>

func (s *Server) Run() error <span class="cov0" title="0">{

        // server definition
        lis, err := net.Listen("tcp", net.JoinHostPort("0.0.0.0", "9009"))
        if err != nil </span><span class="cov0" title="0">{
                return err
        }</span>

        // grpc server
        <span class="cov0" title="0">grpcServer := grpc.NewServer()
        pb.RegisterStringFormatServiceServer(grpcServer, &amp;services.ServicesFormat{
                Usecase: format.NewFormat(),
        })

        // grpc reflect
        reflection.Register(grpcServer)

        // server running
        log.Printf("Server started at %v", lis.Addr())
        if err := grpcServer.Serve(lis); err != nil </span><span class="cov0" title="0">{
                return err
        }</span>

        <span class="cov0" title="0">return nil</span>
}
</pre>
		
		<pre class="file" id="file4" style="display: none">package format

import (
        "agora/core/models"
        "fmt"
        "strings"
)

type Format struct{}

func NewFormat() *Format <span class="cov10" title="9">{
        return &amp;Format{}
}</span>

func (f *Format) Reverse(model *models.Transport) (*models.Transport, error) <span class="cov8" title="7">{
        if model.Value == "" </span><span class="cov5" title="3">{
                return nil, fmt.Errorf("empty value")
        }</span>

        <span class="cov6" title="4">v := reverseString(model.Value)

        return &amp;models.Transport{
                Value:     v,
                FuncApply: "reverse",
        }, nil</span>
}

func (f *Format) Upper(model *models.Transport) (*models.Transport, error) <span class="cov8" title="7">{
        if model.Value == "" </span><span class="cov5" title="3">{
                return nil, fmt.Errorf("empty value")
        }</span>
        <span class="cov6" title="4">return &amp;models.Transport{
                Value:     strings.ToUpper(model.Value),
                FuncApply: "upper",
        }, nil</span>
}

func (f *Format) Lower(model *models.Transport) (*models.Transport, error) <span class="cov8" title="7">{
        if model.Value == "" </span><span class="cov5" title="3">{
                return nil, fmt.Errorf("empty value")
        }</span>
        <span class="cov6" title="4">return &amp;models.Transport{
                Value:     strings.ToLower(model.Value),
                FuncApply: "lower",
        }, nil</span>
}

func reverseString(str string) string <span class="cov6" title="4">{
        byte_str := []rune(str)
        for i, j := 0, len(byte_str)-1; i &lt; j; i, j = i+1, j-1 </span><span class="cov9" title="8">{
                byte_str[i], byte_str[j] = byte_str[j], byte_str[i]
        }</span>
        <span class="cov6" title="4">return string(byte_str)</span>
}
</pre>
		
		<pre class="file" id="file5" style="display: none">package main

import (
        "agora/cmd"
        "log"
)

func main() <span class="cov0" title="0">{
        if err := cmd.NewServer().Run(); err != nil </span><span class="cov0" title="0">{
                log.Fatal(err)
        }</span>
}
</pre>
		
		</div>
	</body>
	<script>
	(function() {
		var files = document.getElementById('files');
		var visible;
		files.addEventListener('change', onChange, false);
		function select(part) {
			if (visible)
				visible.style.display = 'none';
			visible = document.getElementById(part);
			if (!visible)
				return;
			files.value = part;
			visible.style.display = 'block';
			location.hash = part;
		}
		function onChange() {
			select(files.value);
			window.scrollTo(0, 0);
		}
		if (location.hash != "") {
			select(location.hash.substr(1));
		}
		if (!visible) {
			select("file0");
		}
	})();
	</script>
</html>
